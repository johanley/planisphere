<!DOCTYPE html>
<html>
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <meta name="keywords" content="planispher, astronomy, constellations, atlas, stars, learn">
 <meta name="description" content="Precise, customizable planisphere for amateur astronomers.">
 <meta name="viewport" content="width=device-width"> 
 <link rel="stylesheet" type="text/css" href="stylesheet.css?v=1" media="all"> 
 <title>Customizable Planisphere</title>
</head>

<body>

<h2>A Precise and Customizable Planisphere</h2>

 This project generates a precise, customizable planisphere as two PDF files (a <a href='starchart.pdf'>star chart</a> and a <a href='transparency.pdf'>transparency</a>).
 The two files are then printed on a high-resolution printer, and the results are attached together in the center with a rivet.
 One file is meant for printing on card stock, and the other as a transparency.
 The transparency rotates around a central rivet or pin.
 
 <P>The source code is <a href='https://github.com/johanley/planisphere'>here</a>.
 
 <P>The planisphere uses the <b>stereographic projection</b>, which is appropriate only for latitudes outside the tropics.
 (That is the main defect of this projection.)
 
 <P>The output is configured using a 
 <a href='https://github.com/johanley/planisphere/blob/master/src/planisphere/config/config.ini'>config.ini</a> text file.
 A number of minor settings, which most people would not want to change, are hard-coded.
 
<h2>How To Make The Planisphere</h2>
 Generate the PDF files using a form on the web (which uses this project's code):
 <ul>
  <li>I've created a basic form <a href='http://astronomytonight.net/planisphere/form.jsp'>here</a>
  <li>the amount of config that can be done using this web form is limited to the basics, but is likely adequate for most people
  <li>generate two PDF files, one after the other, and save them somewhere on your computer
 </ul>

 Or, if you download this project's source code, you can generate the PDF files using a stand-alone program, from the command line:
 <ul>
  <li>review the <a href='https://github.com/johanley/planisphere/blob/master/src/planisphere/config/config.ini'>config.ini</a> file, and change it to suit your needs.
  The width and height need to match the paper size to be used on the printer. Save the changes.
  <li>run the <code>planisphere.Build</code> class to generate two PDF files.
 </ul>
 
 <P>Print: 
 <ul>
  <li>print the PDF files on a <b>high-resolution printer</b>. You may need to use a commercial print shop for best results. 
  (For me, the cost is about $12.)
  <li>print <code>the starchart.pdf</code> file on card stock (thick paper). One page, double-sided.
  <li>print the <code>transparency.pdf</code> file on a transparency. One page, single-sided.
 </ul>
  
 <P>Cut and attach: 
  <ul>
  <li>make the star chart square, by cutting the star chart along the indicated horizontal lines above and below the star chart. 
  (This is needed only if the PDF is not square to begin with.) 
  <li>make the transparency circular, by cutting along its outermost circular border.
  <li><b>carefully align</b> the transparency on top of the star chart. The outermost circles, for the date-scale and the time-scale,
  should line up neatly along their full border, 360 degrees.
  <li>also refer to the small bulls-eye affordance at the very center, which is to be centered on the celestial pole.
  <li>attach the transparency to the star chart <a href='https://www.mcmaster.com/two-piece-rivets/'>using a rivet</a>, or something similar. 
  (I've had success with a small lapel pin).
 </ul>
 
 <P><b>Verify the centering</b>. Examine the intersection of the celestial equator with the horizon. 
 As you rotate the transparency 360 degrees, the intersection point of the celestial equator with the horizon should 
 always coincide with the east-west point. 

<h2>Design Goals</h2>
The main <b>design goals</b> of this planisphere are:
 <ul>
  <li>to <b>optimize the design for experts, not beginners</b>
  <li>include only <b>minimal text and markings</b>, and only what's necessary for the correct operation of the planisphere.
  <li>allow <b><a href='https://github.com/johanley/planisphere/blob/master/src/planisphere/config/config.ini'>customization</a></b>,  
  including for a given <b>location and year</b>.
  <li>be much more <b>precise</b> than the typical planisphere. 
  The main source of error in the planisphere produced by this project will almost always be the 
  mechanical misalignment between the star chart and the transparency, not in its design.
  <li>to predict the transit time of an object on the celestial equator <b>to within approximately 1 minute</b>. 
  <li>allow for <b>time-travel</b> into the past or future, for thousands of years. 
  This is possible since it uses a precession algorithm that's valid over long time scales, and by including 3D proper motion.
 </ul>
 
 <P>For years other than that for which the planisphere was generated, the precision will of course be significantly reduced.
 
 <P>Planispheres are seldom expected to be precise.
 Nevertheless, it's always interesting to push an instrument to its limits, to see how far you can go.
 That said, many people will be perfectly content with planispheres having significantly lower precision.
 
 
 <h2>What's Included</h2>
 
 The planisphere's star chart includes (<a href='starchart.pdf'>example PDF</a>, with the star chart on page 2):
 <ul>
  <li>stars brighter than magnitude 5.02 (derived from this <a href='https://github.com/johanley/star-catalog'>open source bright star catalog</a>)
  <li>the position of the Sun at 18h standard time for every day (using the configured time zone and year) - <a href='suns-position.png'>example</a>
  <li>the path of the Moon's orbit on July 1 of the configured year - <a href='lunar-orbit.png'>example</a>
  <li>the celestial equator
  <li>the radiant positions for the brightest meteor showers (configurable) - <a href='meteor-showers.png'>example</a>
  <li>the constellations as simple stick drawings, without names (to reduce clutter for those who already know the night sky)
  <li>a date-scale to indicate the observer's sidereal time at 20h standard time each day of the year, in their own time zone
  <li>a table on the back for the Moon, with both the fraction illuminated and its time of transit for every day of the year
  <li>a table on the back for the bright planets, with the time of transit of the planet on the 15th of every month. 
 </ul>
 
 <P>The tables for the Moon and bright planets are used to get approximate positions for those objects over the course of the configured year.
 
 
 <P>The planisphere's transparency goes on top of the star chart. 
 The transparency includes (<a href='transparency.pdf'>example PDF</a>):
 <ul>
  <li>a time-scale with divisions for every 2 minutes (or 1 minute, if you choose)
  <li>markings for every degree of altitude on the meridian, and every degree of azimuth on the horizon
  <li>circles for every 10 degrees of altitude and azimuth
  <li>circles for the altitudes below the horizon to indicate civil, nautical, and astronomical twilight - <a href='twilights.png'>example</a>
  <li>a special circle at 0.9 degrees below the horizon, for computing the time of sunset and sunrise
 </ul>
 
 <h2>Higher Precision</h2>
 
 An effort has been made to make the planisphere <b>as precise as possible</b>:
 <ul>
  <li>the star catalog has precession applied to the configured year. 
  The effect of precession is detectable on a small-scale star chart, even after only 20 years.
  <li>the date-scale is generated specific to a given lat/long, offset from UT, <em>and year</em>.
   The date-scale uses the local sidereal time at 20h standard time every day. This increases precision.
  <li>a correction is applied for the difference in longitude between the observer and the central meridian of their time zone.
  This allows the time-scale to be in Standard Time (UT plus/minus an offset), not Local Mean Time.
  <li>the time-scale shows mean solar time (to match your clock), not sidereal time. The sidereal day is 
  shorter than the mean solar day, by about 3m 56s. This means that the time-scale shows slightly less than 24 hours.
  <li>by default, the time scale has divisions for every 2 minutes. This renders well with an 8 inch version. For a larger 
  version, you may want to change that to every minute.
  <li>for predicting sunrise and sunset, a special altitude of -0.9 degrees has been added, just below 0.0 degrees. 
  This accounts for refraction at the horizon, the Sun's mean semi-diameter, and for the observer being 
  about 2 meters above the real horizon. (See the <em>Explanatory Supplement to the Ephemeris</em>, 1961, page 401).
  Sunrise and sunset correspond to the center of the Sun's disk being at that altitude.
  For the stars, the rise/set altitude is near -0.57 degrees, not -0.9. 
  For the Moon, the rise/set altitude is in the range of +0.08 to +0.18 degrees, because of its large horizontal parallax.
 </ul>
 
 <h2>Discontinuities</h2>
 
 There are two small <b>discontinuities</b> in the planisphere (by design), which bear witness to the astronomical reality:
 <ul>
  <li>the date-scale usually shows a small discontinuity between Dec 31 and Jan 1.
  This is because the date-scale is specific to a given year. 
  It shows the observer's sidereal time at 20h in their configured time zone.
  <li>the time-scale on the transparency has as discontinuity, which I decided to place near 08h. 
  This is because the solar day and the sidereal day aren't the same length.
 </ul>
 
 
 <h2>Implementation</h2>
 Notes about the implementation:
 <ul>
  <li>all text files, and all .java files, use the UTF-8 encoding; your dev environment must also treat them as UTF-8
  <li>the author has run this code only on Windows OS, not on Linux
  <li>vector graphics are used (not raster graphics)
  <li>the fonts are embedded in the PDF
  <li>different printers may render thin lines differently
  <li>the logging can be made silent simply by changing one setting in the 
  <a href='https://github.com/johanley/planisphere/blob/master/src/planisphere/util/LogUtil.java'>LogUtil</a> class 
 </ul>
 
 <h2>Tools Used</h2>
 
 Items used in building this tool:
 <ul>
  <li>stars: the star catalog is taken from <a href='https://github.com/johanley/star-catalog'>this project of mine</a>, intended as a replacement 
  for the Yale Bright Star Catalog.
  <li>planets: the VSOP87D data for the planets, by <a href='https://ui.adsabs.harvard.edu/abs/1988A%26A...202..309B/abstract'>Bretagnon and Francou</a>.
  <li>Moon: the abridged form of ELP 2000-82 as published in <em>Astronomical Algorithms</em>, by Meeus 1991.
  <li>precession: algorithm and tables for P/Q, X/Y, and p/epsilon from 
    <a href='https://ui.adsabs.harvard.edu/abs/2011A%26A...534A..22V/abstract'>this paper</a> by Vondrák, Capitaine, and Wallace.
  <li><em>Astronomical Algorithms</em> by Jean Meeus, 1991
  <li><em>Explanatory Supplement to the Astronomical Ephemeris</em>, 1961  
  <li>an old version of the <a href='https://itextsupport.com/apidocs/iText5/5.5.9/'>iText java library (5.5.13)</a>
 </ul>
 
 <h2>What I Learned</h2>
 Things I learned while building this tool:
 <ul>
  <li>implementations of calculating a Julian Date from a calendar date are usually mediocre (NOVAS, SOFA). 
  Many implementations unnecessarily restrict the input range.
  Many implementations are deeply cryptic. (For this reason, I implemented my own algorithm. 
  See <a href='https://github.com/johanley/planisphere/blob/master/src/planisphere/astro/time/JulianCal.java'>JulianCal</a> and 
  <a href='https://github.com/johanley/planisphere/blob/master/src/planisphere/astro/time/GregorianCal.java'>GregorianCal</a>.)
  <li>calculating 3D proper motions is not difficult (see  <a href='https://ui.adsabs.harvard.edu/abs/1989AJ.....97.1197K/abstract'>Kaplan et al 1989</a>, section IV, page 1203).
  <li>many tools, including those produced to implement IAU standards, are optimized to produce accurate results only within a few hundred years 
  of J2000, and are unsuitable for use outside that range, without careful scrutiny. 
  <li>calculating precession over millenial time scales has only really been possible since the publication of 
  <a href='https://ui.adsabs.harvard.edu/abs/2011A%26A...534A..22V/abstract'>this paper</a> by Vondrák, Capitaine, and Wallace, in 2011.
  <li>in precession, both poles move: the equator pole and the ecliptic pole. Most people neglect the motion of the latter.
  <li>some nearby bright stars have relatively rapid proper motion: Proxima Centauri, Sirius, Pollux, Arcturus, Procyon, Rigil Kentaurus.
  <li>in astronomy, a simple atan3(y, x) function, like atan2 but with the return value in the range 0..2pi, is a simple and useful addition
  <li>the JPL's <a href='https://ssd.jpl.nasa.gov/doc/de440_de441.html'>DE441</a> ephemeris is built to calculate over a long time scale, -13200..+17191.
  <li>for the position of the Moon, it would have been best to use ELP 2000-85, which is built for historical calculations. 
  An abridged version of that theory is published in <a href='https://ui.adsabs.harvard.edu/abs/1988A%26A...190..342C/abstract'>the original paper</a>, but I don't understand the paper. 
  It's also available in <a href='https://ui.adsabs.harvard.edu/abs/1991ltpf.book.....C/abstract'>book form</a>, but I can't find or view the book anywhere. 
  <li>to match data across catalogs, the HD Henry Draper identifier is often useful.
  <li>the GAIA database is poor for bright objects. Its detectors aren't designed for them. I considered using GAIA for this project, but it wasn't feasible.
  <li>the GAIA archive is a large relational database. Their tools use a flavour of SQL to do queries.
 </ul>
 
 <P>Things I'd like to have: 
 <ul>
  <li>access to ELP 2000-85 for the Moon (see above).
  <li>an expression for the inclination of the Moon's orbit, instead of a constant. 
  This may be in <em>Mathematical Astronomy Morsels</em>, by Meeus.
 </ul>
 
 
 <h2>Explorations Over Long Time-Scales</h2>
 
 
 <h3>Movement of the Poles</h3>
 The motion of the poles of both the equator and the ecliptic can be robustly demonstrated with this code, since it 
 uses a robust algorithm for long-term precession, published in 2011. 
 (See the <a href='https://github.com/johanley/planisphere/blob/master/src/planisphere/astro/precession/BuildPolePrecession.java'>BuildPolePrecession</a> class.)
 
 <P>Here are examples of the motion of the poles going back into the past 38,000 years, in steps of 200 years at a time.
 Note how both poles move. The ecliptic pole is the smaller, darker arc near the center. 
 <ul>
   <li><a href='pole_precession-N.pdf'>Northern poles</a> 
   <li><a href='pole_precession-S.pdf'>Southern poles</a> 
 </ul>
 
 <P>(Note that the above charts don't include proper motion of the stars. See below for charts that include proper motion.)
 
 <P>Most images meant to demonstrate long-term precession are mediocre for two reasons: they show a closed loop, 
 and they neglect altogether the motion of the ecliptic pole.
 
 
 
 <h3>Year of Closest Approach to the Equatorial Pole</h3>
 These are the raw results, using data from Hipparcos, with full 3D kinematics. 
 The error bars in the underlying data are not used in these calculations.
 See the <a href='https://github.com/johanley/planisphere/blob/master/src/planisphere/astro/precession/ClosestApproachToPole.java'>ClosestApproachToPole</a> class.
 
 
<P>For the years -100,000..+100,000 in the northern sky:
<pre>
 Star  Year   Separation
-----------------------------------
α Lyr +89851 +0°18'03.089'' Vega
α Cyg -40834 +2°52'26.731'' Deneb
α UMi -74968 +0°00'10.681'' Polaris 
β UMi -27240 +2°08'43.000'' Kochab
α Cep +58105 +0°05'13.585'' Alderamin
λ Cep -44141 +0°15'18.849'' 
α Dra - 2796 +0°05'50.601'' Thuban
τ Her - 7607 +0°31'31.678'' 
</pre>
Note how close Polaris comes to the pole! 
A previous, less accurate calculation with the Yale Bright Star Catalog gave a result of about 4 arcmin for the minimum separation of Polaris over the 
same time frame.

<P>For the years -100,000..+100,000 in the southern sky:
<pre>
  Star  Year   Separation
-------------------------------------
α  Dor -32064 +4°04'47.559'' 
γ  Dor -31862 +0°39'29.884'' 
α  Eri +73449 +3°49'57.548'' Achernar
γ  Cha -22453 +0°12'25.254'' 
α  Car +91325 +5°24'48.682'' Canopus
ω  Car -71400 +0°06'14.607'' 
δ  Vel + 9245 +0°10'08.031'' Alsephina
γ2 Vel +36629 +0°07'35.141'' Regor
σ  Pup -14093 +0°22'46.678'' 
</pre>

<P>For the years -15,000..+15,000 in the northern sky:
<pre>
 Star  Year   Separation
-----------------------------------
α Lyr -12049 +3°25'48.420'' Vega      <a href='basic/basic_chart-12049-N.pdf'>chart</a>
α Cyg +10202 +7°27'23.976'' Deneb     <a href='basic/basic_chart+10202-N.pdf'>chart</a>
α UMi + 2102 +0°27'37.558'' Polaris
β UMi - 1059 +6°31'40.126'' Kochab    <a href='basic/basic_chart-1059-N.pdf'>chart</a>
α Cep + 7539 +1°55'12.019'' Alderamin <a href='basic/basic_chart+7539-N.pdf'>chart</a>
λ Cep + 7319 +4°54'51.287'' 
α Dra - 2796 +0°05'50.601'' Thuban    <a href='basic/basic_chart-2796-N.pdf'>chart</a>
τ Her - 7607 +0°31'31.678''           <a href='basic/basic_chart-7607-N.pdf'>chart</a>
</pre>

<P>For the years -15,000..+15,000 in the southern sky:
<pre>
 Star  Year   Separation
-----------------------------------
α Dor  - 6963 +9°07'59.136'' 
γ Dor  - 6869 +4°58'28.700'' 
α Eri  - 3360 +6°59'19.067'' Achernar
γ Cha  + 4125 +1°31'51.294''           <a href='basic/basic_chart+4125-S.pdf'>chart</a>  
α Car  +13844 +7°26'46.462'' Canopus   <a href='basic/basic_chart+13844-S.pdf'>chart</a>  
ω Car  + 5788 +0°45'51.105''           <a href='basic/basic_chart+5788-S.pdf'>chart</a>
δ Vel  + 9245 +0°10'08.031'' Alsephina <a href='basic/basic_chart+9245-S.pdf'>chart</a>
γ2 Vel -15000 +2°32'30.217'' Regor
σ Pup  -14093 +0°22'46.678''           <a href='basic/basic_chart-14093-S.pdf'>chart</a>
</pre>
 


<h3>Times in History</h3>
<pre>
 Year   Description                Chart
----------------------------------------------
+ 150   Ptolemy of Alexandria     <a href='basic/basic_chart+150-N.pdf'>chart</a>
-2796   Egypt (Thuban at pole)    <a href='basic/basic_chart-2796-N.pdf'>chart</a>
- 590   Thales of Miletus         <a href='basic/basic_chart-590-N.pdf'>chart</a>
-8000   Neolithic revolution      <a href='basic/basic_chart-8000-N.pdf'>north</a>, <a href='basic/basic_chart-8000-S.pdf'>south</a>  
</pre>
 
 Interesting: Orion isn't visible in mid-northern latitudes, in the year -8000.
</body>
</html>